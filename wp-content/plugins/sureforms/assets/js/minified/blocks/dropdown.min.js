function initializeDropdown(){document.querySelectorAll(".srfm-dropdown-common").forEach(o=>{if(o){let e={};var t=o.getAttribute("name"),n=("true"===o.getAttribute("data-multiple")&&(e={maxItems:null,hideSelected:!1}),{maxOptions:null,hidePlaceholder:!0,plugins:["remove_button","clear_button"],onChange(e){Array.isArray(e)?e.forEach(e=>{wp.a11y.speak(e)}):wp.a11y.speak(e);var t=o.closest(".srfm-dropdown-block").querySelector(".srfm-input-dropdown-hidden");t&&t.setAttribute("value",Array.isArray(e)?e.join(","):e)},onItemAdd(){handleInputState(o)},onItemRemove(){handleInputState(o)},...e="false"===o.getAttribute("data-searchable")?{...e,controlInput:null}:e,render:{option(e,t){return`<div>${e.icon} <span>${t(e.text)}</span></div>`},item(e,t){return`<div>${e.icon} ${t(e.text)}</div>`}}}),r=new TomSelect(o,n),t=(window?.addGlobalSrfmObject(t,r),o.closest(".srfm-dropdown-block").querySelector(".ts-control")),r=(t.querySelector(".clear-button").innerHTML='<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12 4L4 12" stroke="currentColor" stroke-opacity="0.65" stroke-width="1.25" stroke-linecap="round" stroke-linejoin="round"/><path d="M4 4L12 12" stroke="currentColor" stroke-opacity="0.65" stroke-width="1.25" stroke-linecap="round" stroke-linejoin="round"/></svg>',document.createElement("div"));r.classList.add("ts-dropdown-icon"),r.innerHTML='<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M4 6L8 10L12 6" stroke="currentColor" stroke-opacity="0.65" stroke-width="1.25" stroke-linecap="round" stroke-linejoin="round" /></svg>',t.appendChild(r),null===n.controlInput&&(r=o.closest(".srfm-dropdown-block").querySelector(".srfm-dropdown-placeholder"),(n=document.createElement("span")).classList.add("ts-control-placeholder"),n.textContent=r.textContent,t.prepend(n)),o.disabled=!0}})}function handleInputState(e){var e=e.closest(".srfm-dropdown-block").querySelector(".ts-control"),t=e?.parentElement,e=e?.querySelector("input");e&&(t.classList.contains("full")?e.setAttribute("readonly",""):e.removeAttribute("readonly"))}window.srfmInitializeDropdown=initializeDropdown,document.addEventListener("DOMContentLoaded",initializeDropdown);