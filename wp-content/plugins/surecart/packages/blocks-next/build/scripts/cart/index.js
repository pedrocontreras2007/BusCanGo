import*as e from"@wordpress/interactivity";import*as t from"@surecart/checkout-events";var r,o,n={d:function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},o:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}},a=(r={getElement:function(){return e.getElement},store:function(){return e.store}},o={},n.d(o,r),o),c=function(e){var t={};return n.d(t,e),t}({processCartViewEvent:function(){return t.processCartViewEvent}});const{state:l}=(0,a.store)("surecart/checkout"),{__}=wp.i18n,{state:s,actions:i}=(0,a.store)("surecart/cart",{state:{get ariaLabel(){return s.label+" "+__("Review your cart.","surecart")},get dialog(){let e=document?.querySelector(".sc-cart-drawer")||null;if(!e){const{ref:t}=(0,a.getElement)();e=t.parentElement.querySelector("dialog")||t.closest("dialog")||null}if(e instanceof HTMLDialogElement!=0)return e}},actions:{open:()=>{s.dialog?.showModal(),(0,c.processCartViewEvent)(l?.checkout),s.label=__("Cart opened.","surecart")},close:()=>{s.dialog?.close(),s.label=__("Cart closed.","surecart")},toggle:e=>{e?.key&&" "!==e?.key&&"Enter"!==e?.key||(e?.preventDefault(),s?.dialog?.open?i.close():i.open())},closeOverlay:e=>{e.target===e.currentTarget&&e.currentTarget.close()}}});addEventListener("scToggleCart",i.toggle);