import{r as i,h as t}from"./p-e97fde0a.js";import{g as e}from"./p-93127aa7.js";import{a as o}from"./p-401e165e.js";const a=":host{display:block}.sc-product-variation-choice-wrap{display:flex;flex-direction:column;gap:var(--sc-variation-gap, 12px)}";const s=a;const n=class{constructor(t){i(this,t);this.heading=undefined;this.product=undefined;this.price=undefined;this.subscription=undefined;this.busy=false;this.variantValues=[];this.handleSubmit=this.handleSubmit.bind(this)}componentWillLoad(){var i;this.variantValues=(i=this.subscription)===null||i===void 0?void 0:i.variant_options}async handleSubmit(){var i,t,a,s;this.busy=true;const n=e({variants:(t=(i=this.product)===null||i===void 0?void 0:i.variants)===null||t===void 0?void 0:t.data,values:this.variantValues});if((a=this.price)===null||a===void 0?void 0:a.ad_hoc){return window.location.assign(o(window.location.href,{action:"confirm_amount",price_id:(s=this.price)===null||s===void 0?void 0:s.id,variant:n===null||n===void 0?void 0:n.id}))}return window.location.assign(o(window.location.href,{action:"confirm",variant:n===null||n===void 0?void 0:n.id}))}buttonText(){var i,t,e,o;if((i=this.price)===null||i===void 0?void 0:i.ad_hoc){if(((t=this.price)===null||t===void 0?void 0:t.id)===((o=(e=this.subscription)===null||e===void 0?void 0:e.price)===null||o===void 0?void 0:o.id)){return wp.i18n.__("Update Amount","surecart")}return wp.i18n.__("Choose Amount","surecart")}return wp.i18n.__("Next","surecart")}render(){var i,e;return t("sc-dashboard-module",{key:"b4d3d8a168236c224bf950b891720f5a5b30940e",heading:this.heading||wp.i18n.__("Enter An Amount","surecart"),class:"subscription-switch"},t("sc-card",{key:"33e7230b37410de241389804a059926452d52d23"},t("sc-form",{key:"8ba5a31af9de88a3755690b88f4418dec8489e61",onScSubmit:this.handleSubmit},t("div",{key:"d63cd681168afd143783738b10ef926bdffb763c",class:"sc-product-variation-choice-wrap"},(((e=(i=this.product)===null||i===void 0?void 0:i.variant_options)===null||e===void 0?void 0:e.data)||[]).map((({name:i,values:e,id:o},a)=>{var s,n;return t("sc-select",{exportparts:"base:select__base, input, form-control, label, help-text, trigger, panel, caret, menu__base, spinner__base, empty",part:"name__input",value:((n=(s=this.subscription)===null||s===void 0?void 0:s.variant_options)===null||n===void 0?void 0:n[a])||"",onScChange:i=>{this.variantValues[a]=i.detail.value},label:i,choices:e===null||e===void 0?void 0:e.map((i=>({label:i,value:i}))),unselect:false,key:o})}))),t("sc-button",{key:"b6984f31a65b5163c59df1dbae4175e043a7adb5",type:"primary",full:true,submit:true,loading:this.busy},this.buttonText()," ",t("sc-icon",{key:"b0da93083cbfdaf966fc3779d2539d41b88713c5",name:"arrow-right",slot:"suffix"})))),this.busy&&t("sc-block-ui",{key:"82c045dd4a638dbcfb12b49276641f89670d2567",style:{zIndex:"9"}}))}};n.style=s;export{n as sc_subscription_variation_confirm};
//# sourceMappingURL=p-60da0df3.entry.js.map